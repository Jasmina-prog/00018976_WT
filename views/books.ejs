<!DOCTYPE html>
<html>
<head>
    <title>Book List</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../styles/style.css">

    <style>
        body {
            background-size: cover;
            background-repeat: no-repeat;
            background-image: url('/pexels-pixabay-235985.jpg');
            background-image: url('/pastel-yellow-vignette-concrete-textured-background.jpg');
            font-family: 'Cormorant Garamond', serif !important;
            font-size: 1.2rem !important;
            color: #4b2e1f !important;
        }
        .book{
            background-color: #e3d5b7 !important;
            border: 1px solid #a89062 !important;
            border-radius: 10px !important;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1) !important;
        }
        .btn-vintage {
            background-color: #8b5e3c !important;
            color: #ffffff !important;
            border-radius: 20px !important;
        }
        .btn-vintage:hover {
            background-color: #5c3b27 !important;
        }
        .vintage-header {
            font-size: 2.5rem !important;
            font-weight: bold !important;
        }
        .vintage-button {
            font-family: 'Cormorant Garamond', serif !important;
            background-color: #b89b72 !important;
            color: #fff !important;
            border: 1px solid #4b2e1f !important;
            padding: 8px 16px !important;
            font-size: 16px !important;
            border-radius: 8px !important;
            box-shadow: 2px 2px 5px #4b2e1f !important;
            transition: all 0.3s ease !important;
        }

        .vintage-button:hover {
            background-color: #4b2e1f !important;
            color: #f4ecd8 !important;
        }

        .vintage-button:active {
            transform: scale(0.95) !important;
            box-shadow: 1px 1px 3px #4b2e1f !important;
        }

        .vintage-button.delete {
            background-color: #d9534f !important;
            border-color: #c9302c !important;
        }

        .vintage-button.delete:hover {
            background-color: #c9302c !important;
        }

        .vintage-button.edit {
            background-color: #c98b34 !important;
            border-color: #a86200 !important;
        }

        .vintage-button.edit:hover {
            background-color: #ec971f !important;
        }

        .vintage-button.add {
            background-color: #5cb85c !important;
            border-color: #4cae4c !important;
        }

        .vintage-button.add:hover {
            background-color: #4cae4c !important;
        }
        .vintage-button.view-review {
            background-color: #5e4b3b !important;
            border-color: #5e4b3b !important;
        }

        .vintage-button.view-review:hover {
            background-color: #8c7a67 !important;
        }
    </style>

</head>
<body class="bg-light">
    <%- include('partials/navbar') %>
    <div class="container mt-5">
        <h1 class="mb-4 vintage-header">Books</h1>
        <a href="/books/add" class="btn vintage-button add mb-3">Add Book</a>
        <ul class="list-group">
            <% books.forEach(book => { %>
                <li class="book list-group-item d-flex justify-content-between align-items-center p-3 gap-5">
                    <div>
                        <strong><%= book.title %></strong>  by <%= book.author %>
                        <!-- Toggle Review Button -->
                        <button class="btn vintage-button view-review btn-sm ms-2" type="button" data-bs-toggle="collapse" data-bs-target="#review<%= book._id %>" aria-expanded="false" aria-controls="review<%= book._id %>">
                            View Review
                        </button>
                    </div>
                    <div>
                        <a href="/books/edit/<%= book._id %>" class="btn vintage-button edit btn-sm">Edit</a>
                        <form action="/books/delete/<%= book._id %>" method="POST" class="d-inline">
                            <button type="submit" class="btn vintage-button delete btn-sm">Delete</button>
                        </form>
                    </div>
                </li>
                
                <!-- Review Section -->
                <li class="list-group-item collapse" id="review<%= book._id %>">
                    <strong>Review:</strong> <%= book.review %>
                </li>
            <% }) %>
        </ul>

        <a href="/" class="btn btn-vintage mt-3 px-3 py-2">üè† Back to Home</a>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>